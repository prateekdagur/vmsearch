<section class="home">
    <div class="container">

        <div class="row">
            <div class="col-lg-12">   

                <div class="head d-flex align-items-center">
                    <h3>View Contact</h3>
                </div>        
            </div>
    
            
            <div class="col-lg-12">
    
                <div class="box p-0">
                    
                    <h4>DL image <button class="btn ms-auto"  routerLink="/add-feedback/{{dataArray.user._id}}"><img src="../../../assets/image/add-guest.svg" alt="">Add Feedback</button></h4>
                    <div class="row">
    
                        <div class="col-lg-4 col-12">
                            <div class="box identity">
                                <span *ngIf="dataArray.user.dlImage">
                                    <img [src]="dataArray.user.dlImage" alt="">
                                </span>
                            </div>
                        </div>
        
                        <div class="col-lg-8 col-12">
                            <div class="box approval-detail">    
                                <ul>
                                    <li>Name <span class="ms-auto">{{dataArray.user.firstName}} {{dataArray.user.lastName}}</span></li>
                                    <li *ngIf="dataArray.user.dob">Date of Birth  <span class="ms-auto">{{dataArray.user.formated_dob}}</span></li>
                                    <li>DL Number <span class="ms-auto">{{dataArray.user.dlNumber}}</span></li>
                                    <li *ngIf="dataArray.user.address">Address <span class="ms-auto">{{dataArray.user.address}}</span></li>
                                    <li>DL State <span class="ms-auto">{{dataArray.user.dlState}}</span></li>
                                    <li *ngIf="dataArray.user.dlExpiryDate">DL Expiry Date <span class="ms-auto">{{dataArray.user.formated_dlExpiry}}</span></li>
                                </ul>    
                            </div>
                        </div>
        
                    </div><!--row-->
                </div>
    
            </div>
        </div>

        <div class="row mt-4">
            
            <div class="col-lg-12">
                <div class="feedback">
                    <h3>All Feedback <span>{{dataArray.feedbackCount}}</span></h3>
                    
                    <div class="inner-box" *ngFor="let feedback of dataArray.guestFeedbackList" >
                        <h2>{{feedback.hotelData.hotelname}} |  {{feedback.guestDetails.date | date:dateFormat}} 
                            <button class="ms-auto" *ngIf="feedback.canView"  routerLink="/edit-feedback/{{feedback.guestDetails._id}}"> <img src="../../../assets/image/edit-1.svg" alt=""> Edit</button>
                        </h2>
                        <h6>DNR Reasons</h6>
                            <ul>
                                <li *ngFor="let reson of feedback.drReasonArray">{{reson | commonDnrName | async}}</li>

                                
                                <li *ngIf="feedback.guestDetails.comments != ''">Other:</li>   
                                <p *ngIf="feedback.guestDetails.comments != ''">{{feedback.guestDetails.comments}}</p>                            
                            </ul>

                            <div class="row">
                                <div class="col-lg-6 col-12" *ngIf="feedback.photosArray.length != 0">
                                    <div class="multi-photo">
                                        <h5>Photo</h5>
                                        <div class="list">
                                            <span *ngFor="let photoSrc of feedback.photosArray">
                                                <a href="{{ photoSrc }}" target="_blank"><img src="{{ photoSrc }}" alt=""></a>
                                            </span>                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-12" *ngIf="feedback.videoArray.length != 0">
                                    <div class="multi-photo multi-video">
                                        <h5>Video</h5>
                                        <div class="list">
                                            <span *ngFor="let videoSrc of feedback.videoArray">
                                                    <video controls>
                                                        <source src="{{ videoSrc }}" type="video/mp4">
                                                    </video>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                    </div>
                 </div>

            </div>
        </div><!--row-->

    </div>
</section>
